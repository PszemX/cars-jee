<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="jakarta.faces.html"
	xmlns:ui="jakarta.faces.facelets"
	xmlns:f="jakarta.faces.core"
	template="/WEB-INF/template/main.xhtml"
>
	<f:metadata>
		<f:viewParam name="id" value="#{brandView.id}" required="true" />
		<f:viewAction action="#{brandView.init()}" />
	</f:metadata>

	<ui:define name="content">
		<article>
			<header>
				<h2><h:outputText value="#{brandView.brand.name}" /></h2>
			</header>
			<div class="container">
				<div class="row">
					<div class="col-4">
						<div class="row mb-2">
							<div class="col-6">Manual</div>
							<div class="col-6">
								<h:outputText
									value="#{brandView.brand.manual}"
								/>
							</div>
						</div>

						<div class="row mb-2">
							<div class="col-6">Body</div>
							<div class="col-6">
								<h:outputText
									value="#{brandView.brand.body}"
								/>
							</div>
						</div>

						<h:dataTable
							value="#{brandView.brand.cars}"
							var="car"
							styleClass="table align-middle mb-0 bg-white"
							headerClass="bg-light"
						>
							<h:column>
								<f:facet name="header">Horse Power</f:facet>
								<h:outputText value="#{car.horsePower}" />
							</h:column>
							<h:column>
								<f:facet name="header">Registration Date</f:facet>
								<h:outputText value="#{car.registration}" />
							</h:column>
							<h:column>
								<f:facet name="header">View</f:facet>
								<h:link
									outcome="/car/car_view.xhtml"
									value="View"
								>
									<f:param name="id" value="#{car.id}" />
								</h:link>
							</h:column>
							<h:column>
								<f:facet name="header">Delete</f:facet>
								<h:form>
									<h:commandButton
										styleClass="btn"
										value="Delete"
										action="#{brandView.deleteCar(car.id)}"
									/>
								</h:form>
							</h:column>
						</h:dataTable>
					</div>
				</div>
			</div>
		</article>
	</ui:define>
</ui:composition>
